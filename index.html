<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Massimiliano Cossu | Photo Concierge</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --black: #000; --white: #fff; --light-gray: #f9f9f9; }
        body { font-family: 'Montserrat', sans-serif; background: var(--white); color: var(--black); margin: 0; text-align: center; }
        .container { max-width: 450px; margin: 0 auto; padding: 20px; box-sizing: border-box; }
        
        /* SELETTORE LINGUA - POSIZIONE FISSA IN ALTO */
        .lang-bar { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; padding: 10px; background: var(--light-gray); border-radius: 50px; }
        .lang-btn { cursor: pointer; background: none; border: none; font-size: 0.7rem; letter-spacing: 1px; color: #bbb; font-family: inherit; }
        .lang-btn.active { color: var(--black); font-weight: 600; }

        .logo-container img { width: 140px; height: auto; margin-bottom: 10px; }
        .brand { font-weight: 400; letter-spacing: 5px; text-transform: uppercase; font-size: 0.7rem; margin-bottom: 30px; }

        .weather-card { border-top: 1px solid #eee; border-bottom: 1px solid #eee; padding: 20px 0; margin-bottom: 30px; }
        .temp { font-size: 2.5rem; font-weight: 200; }

        .chat-box { text-align: left; padding: 20px; background: #fafafa; border-left: 3px solid var(--black); margin-bottom: 30px; font-size: 0.85rem; }
        .mood-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 20px 0; }
        .mood-btn { background: white; border: 1px solid #ddd; padding: 12px; font-size: 0.65rem; text-transform: uppercase; cursor: pointer; font-family: inherit; }
        .mood-active { background: var(--black) !important; color: var(--white) !important; }

        .form-title { font-size: 0.7rem; letter-spacing: 3px; text-transform: uppercase; margin: 30px 0 20px; font-weight: 600; }
        input { width: 100%; padding: 15px 0; margin-bottom: 15px; border: none; border-bottom: 1px solid #eee; font-family: inherit; outline: none; }
        .btn-main { background: var(--black); color: var(--white); border: none; width: 100%; padding: 20px; text-transform: uppercase; letter-spacing: 3px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <div class="lang-bar">
        <button id="it-btn" class="lang-btn active" onclick="setLang('it')">ITALIANO</button>
        <button id="en-btn" class="lang-btn" onclick="setLang('en')">ENGLISH</button>
    </div>

    <div class="logo-container"><img src="logo.jpg" alt="Massimiliano Cossu"></div>
    <div class="brand">Massimiliano Cossu</div>

    <div class="weather-card"><div class="temp" id="temp">--Â°C</div></div>

    <div class="chat-box">
        <div id="chat-text">Seleziona un mood per iniziare...</div>
        <div class="mood-grid">
            <button class="mood-btn" onclick="setMood('Romantico', this)" id="m1">ðŸŒ¹ Romantico</button>
            <button class="mood-btn" onclick="setMood('Editoriale', this)" id="m2">ðŸ§¥ Editoriale</button>
        </div>
    </div>

    <div class="form-title" id="f-title">Richiedi DisponibilitÃ </div>
    <form id="contact-form">
        <input type="text" id="name" placeholder="NOME" required>
        <input type="text" id="room" placeholder="CAMERA" required>
        <button type="submit" class="btn-main" id="s-btn">Invia</button>
    </form>
</div>

<script>
    let currentLang = 'it';
    const langData = {
        it: { welcome: "Meteo analizzato. Scegli un mood.", fTitle: "Richiedi DisponibilitÃ ", btn: "Invia", m: ["ðŸŒ¹ Romantico", "ðŸ§¥ Editoriale"] },
        en: { welcome: "Weather analyzed. Choose a mood.", fTitle: "Request Availability", btn: "Send", m: ["ðŸŒ¹ Romantic", "ðŸ§¥ Editorial"] }
    };

    function setLang(l) {
        currentLang = l;
        document.getElementById('it-btn').classList.toggle('active', l === 'it');
        document.getElementById('en-btn').classList.toggle('active', l === 'en');
        document.getElementById('chat-text').innerText = langData[l].welcome;
        document.getElementById('f-title').innerText = langData[l].fTitle;
        document.getElementById('s-btn').innerText = langData[l].btn;
        document.getElementById('m1').innerText = langData[l].m[0];
        document.getElementById('m2').innerText = langData[l].m[1];
    }

    async function getWeather() {
        const r = await fetch('https://api.openweathermap.org/data/2.5/weather?q=Imperia&appid=f1cdab2eef339087f342360bdd4958cf&units=metric');
        const d = await r.json();
        document.getElementById('temp').innerText = Math.round(d.main.temp) + "Â°C";
    }

    function setMood(m, b) {
        document.querySelectorAll('.mood-btn').forEach(btn => btn.classList.remove('mood-active'));
        b.classList.add('mood-active');
        document.getElementById('chat-text').innerHTML = m === 'Romantico' ? "ðŸŒ¹ <strong>AI:</strong> Perfetto per il Parrasio." : "ðŸ§¥ <strong>AI:</strong> Scegliamo i Portici.";
    }

    getWeather();
    setLang('it');
</script>
</body>
</html>
