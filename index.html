<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Massimiliano Cossu | AI Photo Concierge</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --black: #000; --white: #fff; --accent: #666; }
        body { font-family: 'Montserrat', sans-serif; background: var(--white); color: var(--black); margin: 0; text-align: center; -webkit-font-smoothing: antialiased; }
        .container { max-width: 450px; margin: 0 auto; padding: 40px 20px; }
        
        /* LOGO AREA */
        .logo-container { margin-bottom: 10px; }
        .logo-container img { width: 150px; height: auto; }
        .brand-name { font-weight: 200; letter-spacing: 6px; text-transform: uppercase; font-size: 0.8rem; margin-bottom: 40px; color: var(--black); }

        /* AI STATUS BAR */
        .ai-status { font-size: 0.55rem; letter-spacing: 2px; text-transform: uppercase; color: var(--accent); margin-bottom: 15px; display: flex; justify-content: center; align-items: center; gap: 8px; }
        .dot { width: 6px; height: 6px; background: #00ff00; border-radius: 50%; box-shadow: 0 0 5px #00ff00; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

        /* WEATHER CARD */
        .card { border-top: 1px solid #eee; border-bottom: 1px solid #eee; padding: 30px 0; margin-bottom: 30px; }
        .city { font-size: 0.65rem; letter-spacing: 3px; text-transform: uppercase; margin-bottom: 10px; display: block; color: #999; }
        .temp { font-size: 2.5rem; font-weight: 200; letter-spacing: -1px; }
        
        /* AI ADVICE BOX */
        .ai-advice { text-align: left; font-size: 0.85rem; line-height: 1.8; font-weight: 300; padding: 25px; background: #fafafa; border-left: 2px solid var(--black); margin-bottom: 40px; }
        .ai-label { font-weight: 600; font-size: 0.6rem; letter-spacing: 1px; text-transform: uppercase; display: block; margin-bottom: 12px; color: var(--black); }

        /* FORM STYLING */
        .form-title { font-size: 0.7rem; letter-spacing: 3px; text-transform: uppercase; margin-bottom: 25px; font-weight: 600; }
        input { width: 100%; padding: 15px 0; margin-bottom: 25px; border: none; border-bottom: 1px solid #eee; font-family: inherit; font-size: 0.85rem; letter-spacing: 1px; outline: none; background: transparent; border-radius: 0; }
        input:focus { border-bottom: 1px solid var(--black); }
        .btn { background: var(--black); color: var(--white); border: none; width: 100%; padding: 22px; text-transform: uppercase; letter-spacing: 4px; font-size: 0.7rem; cursor: pointer; transition: 0.4s; margin-top: 10px; }
        .btn:hover { background: #333; letter-spacing: 5px; }
        
        footer { margin-top: 50px; font-size: 0.5rem; letter-spacing: 2px; color: #ccc; text-transform: uppercase; }
    </style>
</head>
<body>

<div class="container">
    <div class="logo-container">
        <img src="logo.png" alt="Massimiliano Cossu Logo">
    </div>
    <div class="brand-name">Massimiliano Cossu</div>

    <div class="ai-status"><span class="dot"></span> AI Concierge Active</div>

    <div class="card">
        <span class="city">Imperia, Riviera dei Fiori</span>
        <div class="temp" id="temp">--°C</div>
    </div>

    <div class="ai-advice">
        <span class="ai-label">Consulenza AI - Analisi Luce</span>
        <div id="ai-output">Analisi delle condizioni atmosferiche per la tua sessione...</div>
    </div>

    <div class="form-title">Richiedi Disponibilità</div>
    <form id="bookingForm">
        <input type="text" id="from_name" placeholder="NOME E COGNOME" required>
        <input type="text" id="room_number" placeholder="NUMERO CAMERA" required>
        <input type="time" id="requested_time" required>
        <button type="submit" class="btn" id="submitBtn">Invia Richiesta</button>
    </form>

    <footer>© 2026 Massimiliano Cossu Photography</footer>
</div>

<script>
    // Configurazione chiavi
    const API_KEY = "f1cdab2eef339087f342360bdd4958cf";
    emailjs.init("Jlm5ZEzPEoWKBx3ki");

    async function updateAI() {
        try {
            const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=Imperia&appid=${API_KEY}&units=metric&lang=it`);
            const data = await res.json();
            document.getElementById('temp').innerText = Math.round(data.main.temp) + "°C";
            
            const aiOutput = document.getElementById('ai-output');
            const condition = data.weather[0].main;

            // Logica AI per consigli su Imperia
            if (condition === "Clear") {
                aiOutput.innerHTML = "Il sensore rileva cielo terso. La luce è ideale per contrasti decisi a <strong>Porto Maurizio</strong>. Consiglio: abiti in lino o tessuti naturali per un look editoriale e senza tempo.";
            } else if (condition === "Clouds") {
                aiOutput.innerHTML = "Rilevata luce diffusa e morbida. È il momento perfetto per ritratti poetici tra i vicoli del <strong>Parrasio</strong>. Consiglio: toni caldi o pastello per armonizzarsi con l'atmosfera.";
            } else {
                aiOutput.innerHTML = "Atmosfera cinematografica rilevata. La luce soffusa suggerisce scatti di grande carattere. Location suggerita: i <strong>portici di Oneglia</strong> per un mood sofisticato.";
            }
        } catch (e) { 
            document.getElementById('ai-output').innerText = "Benvenuto. Il sistema AI è pronto per guidarti nella scelta della tua sessione fotografica a Imperia.";
        }
    }

    document.getElementById('bookingForm').onsubmit = function(e) {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        btn.innerText = "ELABORAZIONE...";
        
        emailjs.send("default_service", "template_ua1pm9l", {
            from_name: document.getElementById('from_name').value,
            room_number: document.getElementById('room_number').value,
            requested_time: document.getElementById('requested_time').value
        }).then(() => {
            alert("Richiesta inviata. Riceverai un riscontro a breve.");
            btn.innerText = "INVIA RICHIESTA";
            e.target.reset();
        });
    };

    updateAI();
</script>
</body>
</html>
