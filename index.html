<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Massimiliano Cossu | Photo Concierge</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { 
            --black: #000000;
            --white: #ffffff;
            --gray: #f8f8f8;
            --accent: #333333;
        }

        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: var(--white); 
            color: var(--black); 
            margin: 0; 
            display: flex; 
            justify-content: center;
            -webkit-font-smoothing: antialiased;
        }

        .container { 
            width: 100%; 
            max-width: 450px; 
            padding: 50px 25px; 
        }

        /* LOGO STYLE */
        header { 
            text-align: center; 
            margin-bottom: 60px; 
        }

        header h1 { 
            font-weight: 600; 
            text-transform: uppercase; 
            letter-spacing: 4px; 
            font-size: 1.1rem; 
            margin: 0; 
            border-bottom: 2px solid var(--black);
            display: inline-block;
            padding-bottom: 5px;
        }

        header p { 
            font-size: 0.6rem; 
            letter-spacing: 3px; 
            text-transform: uppercase; 
            margin-top: 10px; 
            color: #666;
        }

        /* INFO METEO */
        .info-bar { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 30px; 
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .info-item small { 
            display: block; 
            font-size: 0.55rem; 
            letter-spacing: 2px; 
            text-transform: uppercase; 
            color: #999; 
            margin-bottom: 5px;
        }

        .info-item span { font-size: 1rem; font-weight: 400; }

        /* TIP & GALLERY */
        .tip-text { 
            font-size: 0.9rem; 
            line-height: 1.7; 
            margin-bottom: 30px; 
            color: #444;
            font-weight: 300;
        }

        .gallery { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 15px; 
            margin-bottom: 50px; 
        }

        .gallery img { 
            width: 100%; 
            height: 250px; 
            object-fit: cover; 
            transition: opacity 0.3s;
        }

        /* FORM */
        .form-section h2 { 
            font-size: 0.8rem; 
            letter-spacing: 3px; 
            text-transform: uppercase; 
            text-align: center; 
            margin-bottom: 30px; 
            font-weight: 600;
        }

        input { 
            width: 100%; 
            padding: 15px 0; 
            margin-bottom: 20px; 
            border: none; 
            border-bottom: 1px solid #e0e0e0; 
            font-family: inherit; 
            font-size: 0.9rem;
            background: transparent;
            border-radius: 0;
        }

        input:focus { outline: none; border-bottom: 1px solid var(--black); }

        .btn { 
            background: var(--black); 
            color: var(--white); 
            border: none; 
            width: 100%; 
            padding: 20px; 
            font-family: inherit; 
            font-size: 0.75rem; 
            letter-spacing: 3px; 
            text-transform: uppercase; 
            cursor: pointer; 
            margin-top: 20px;
            transition: 0.3s;
        }

        .btn:hover { background: #333; }

        footer { 
            text-align: center; 
            font-size: 0.55rem; 
            color: #ccc; 
            margin-top: 60px; 
            letter-spacing: 2px;
            text-transform: uppercase;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Massimiliano Cossu</h1>
        <p>Photography Concierge</p>
    </header>

    <div class="info-bar">
        <div class="info-item"><small>Location</small><span>Imperia</span></div>
        <div class="info-item" style="text-align: right;"><small>Temperature</small><span id="temp">--°C</span></div>
    </div>

    <div class="tip-text" id="style-tip">
        Analisi delle condizioni di luce per la tua sessione...
    </div>

    <div class="gallery" id="gallery">
        </div>

    <div class="form-section">
        <h2>Richiedi disponibilità</h2>
        <form id="bookingForm">
            <input type="text" id="from_name" placeholder="NOME E COGNOME" required>
            <input type="text" id="room_number" placeholder="NUMERO CAMERA" required>
            <input type="time" id="requested_time" required>
            <button type="submit" class="btn" id="submitBtn">Invia Richiesta</button>
        </form>
    </div>

    <footer>
        © 2026 Massimiliano Cossu Photography
    </footer>
</div>

<script>
    const API_KEY = "f1cdab2eef339087f342360bdd4958cf";
    const CITY = "Imperia";
    
    emailjs.init("Jlm5ZEzPEoWKBx3ki");

    async function init() {
        try {
            const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${CITY}&appid=${API_KEY}&units=metric&lang=it`);
            const data = await res.json();
            document.getElementById('temp').innerText = Math.round(data.main.temp) + "°C";
            
            const tip = document.getElementById('style-tip');
            const gall = document.getElementById('gallery');

            if (data.weather[0].main === "Clear" || data.weather[0].main === "Clouds") {
                tip.innerHTML = "La luce di oggi a Imperia è ideale per ritratti spontanei. Ti suggerisco i vicoli di <strong>Porto Maurizio</strong>, perfetti per catturare momenti reali in abiti leggeri.";
                gall.innerHTML = '<img src="https://picsum.photos/600/900?random=11"><img src="https://picsum.photos/600/900?random=12">';
            } else {
                tip.innerHTML = "Oggi il cielo regala una luce morbida e cinematografica. Ti suggerisco l'atmosfera del <strong>Parrasio</strong>, dove ogni angolo racconta una storia senza tempo.";
                gall.innerHTML = '<img src="https://picsum.photos/600/900?random=13"><img src="https://picsum.photos/600/900?random=14">';
            }
        } catch (e) { console.error("Meteo error"); }
    }

    document.getElementById('bookingForm').onsubmit = function(e) {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        btn.innerText = "INVIO...";
        
        emailjs.send("default_service", "template_ua1pm9l", {
            from_name: document.getElementById('from_name').value,
            room_number: document.getElementById('room_number').value,
            requested_time: document.getElementById('requested_time').value
        }).then(() => {
            alert("Grazie. Riceverai un riscontro a breve.");
            btn.innerText = "INVIA RICHIESTA";
            e.target.reset();
        });
    };

    init();
</script>
</body>
</html>
